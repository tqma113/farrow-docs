(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{116:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var o=n(0),i=n.n(o);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},d=Object.keys(e);for(o=0;o<d.length;o++)n=d[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)n=d[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=i.a.createContext({}),l=function(e){var t=i.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=l(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,d=e.originalType,a=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),s=l(n),u=o,m=s["".concat(a,".").concat(u)]||s[u]||b[u]||d;return n?i.a.createElement(m,r(r({ref:t},c),{},{components:n})):i.a.createElement(m,r({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var d=n.length,a=new Array(d);a[0]=u;var r={};for(var p in t)hasOwnProperty.call(t,p)&&(r[p]=t[p]);r.originalType=e,r.mdxType="string"==typeof e?e:o,a[1]=r;for(var c=2;c<d;c++)a[c]=n[c];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},167:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,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"},91:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return l}));var o=n(3),i=n(7),d=(n(0),n(116)),a={title:"Develop Todo Service"},r={unversionedId:"tutorial/04-develop-todo-service",id:"tutorial/04-develop-todo-service",isDocsHomePage:!1,title:"Develop Todo Service",description:"Introduction for Todo app",source:"@site/docs/tutorial/04-develop-todo-service.md",slug:"/tutorial/04-develop-todo-service",permalink:"/farrow-docs/build/docs/tutorial/04-develop-todo-service",editUrl:"https://github.com/Lucifier129/farrow-docs/docs/tutorial/04-develop-todo-service.md",version:"current",sidebar:"docs",previous:{title:"Develop Front End",permalink:"/farrow-docs/build/docs/tutorial/03-develop-front-end"},next:{title:"Develop Todo App",permalink:"/farrow-docs/build/docs/tutorial/05-develop-todo-app"}},p=[{value:"Introduction for Todo app",id:"introduction-for-todo-app",children:[]},{value:"Todo Service",id:"todo-service",children:[{value:"getTodos",id:"gettodos",children:[]},{value:"addTodo",id:"addtodo",children:[]},{value:"removeTodo",id:"removetodo",children:[]},{value:"updateTodo",id:"updatetodo",children:[]},{value:"clearCompleted",id:"clearcompleted",children:[]},{value:"ApiService",id:"apiservice",children:[]}]}],c={toc:p};function l(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(d.b)("wrapper",Object(o.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(d.b)("h2",{id:"introduction-for-todo-app"},"Introduction for Todo app"),Object(d.b)("p",null,"The proposed todo-app we are about to develop has a relatively simple interface, roughly as shown below:"),Object(d.b)("p",null,Object(d.b)("img",{alt:"todo-app",src:n(167).default})),Object(d.b)("p",null,"It contains the following functions:"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"Enter the new todo content and press enter to add it"),Object(d.b)("li",{parentName:"ul"},"For each todo item",Object(d.b)("ul",{parentName:"li"},Object(d.b)("li",{parentName:"ul"},"You can toggle the ",Object(d.b)("inlineCode",{parentName:"li"},"completed/active")," status"),Object(d.b)("li",{parentName:"ul"},"You can delete"),Object(d.b)("li",{parentName:"ul"},"You can double-click to start editing"))),Object(d.b)("li",{parentName:"ul"},"All todo items with ",Object(d.b)("inlineCode",{parentName:"li"},"completed")," status can be made clear.")),Object(d.b)("p",null,"We need to implement a set of server-side ",Object(d.b)("inlineCode",{parentName:"p"},"api"),"'s and that support:"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"getTodos")," to get the current ",Object(d.b)("inlineCode",{parentName:"li"},"todos")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"addTodo")," adds a new ",Object(d.b)("inlineCode",{parentName:"li"},"todo")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"removeTodo")," Remove ",Object(d.b)("inlineCode",{parentName:"li"},"todo")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"updateTodo")," update ",Object(d.b)("inlineCode",{parentName:"li"},"todo")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"clearCompleted")," to clear all completed ",Object(d.b)("inlineCode",{parentName:"li"},"todos"))),Object(d.b)("p",null,"Then the frontend reuses the server-side type and interface call code via ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-api")," to develop the interface based on ",Object(d.b)("inlineCode",{parentName:"p"},"react"),"."),Object(d.b)("h2",{id:"todo-service"},"Todo Service"),Object(d.b)("p",null,"Create ",Object(d.b)("inlineCode",{parentName:"p"},"server/api/todo.ts")," file and import the depended modules\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"import { Api } from 'farrow-api';\nimport { ApiService } from 'farrow-api-server';\nimport {\n  Int,\n  List,\n  Literal,\n  Nullable,\n  ObjectType,\n  Type,\n  TypeOf,\n  Union,\n} from 'farrow-schema';\n")),Object(d.b)("p",null,"Then the ",Object(d.b)("inlineCode",{parentName:"p"},"Todo Schema")," is defined and the types contained in the ",Object(d.b)("inlineCode",{parentName:"p"},"Todo Schema")," are extracted by ",Object(d.b)("inlineCode",{parentName:"p"},"TypeOf"),". Then, we construct the ",Object(d.b)("inlineCode",{parentName:"p"},"Todos Schema")," using the ",Object(d.b)("inlineCode",{parentName:"p"},"List")," function of ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-schema"),"."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"export class Todo extends ObjectType {\n  id = {\n    description: 'todo id',\n    [Type]: Int,\n  };\n  content = {\n    description: 'todo content',\n    [Type]: String,\n  };\n  completed = {\n    description: 'todo status',\n    [Type]: Boolean,\n  };\n}\n\nexport type TodoType = TypeOf<Todo>;\n\nexport const Todos = List(Todo);\n")),Object(d.b)("p",null,"Note that the above looks a bit redundant, but each part has its role, for example, ",Object(d.b)("inlineCode",{parentName:"p"},"description")," becomes an annotation after ",Object(d.b)("inlineCode",{parentName:"p"},"codegen")," to the front-end and is a way to document the api."),Object(d.b)("p",null,"The types obtained by the front-end are shown below."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"/**\n * {@label Todo}\n */\nexport type Todo = {\n  /**\n   * @remarks todo id\n   */\n  id: number;\n  /**\n   * @remarks todo content\n   */\n  content: string;\n  /**\n   * @remarks todo status\n   */\n  completed: boolean;\n};\n")),Object(d.b)("h3",{id:"gettodos"},"getTodos"),Object(d.b)("p",null,"Next, we can define the first interface ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos"),"."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"let uid = 0;\n\nlet todos: TodoType[] = [];\n\nexport const getTodos = Api(\n  {\n    description: 'get todos',\n    input: {},\n    output: {\n      todos: {\n        description: 'all todos',\n        [Type]: Todos,\n      },\n    },\n  },\n  () => {\n    return {\n      todos,\n    };\n  }\n);\n")),Object(d.b)("p",null,"Although ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," does not require parameters, the ",Object(d.b)("inlineCode",{parentName:"p"},"input schema")," still needs to be set to ",Object(d.b)("inlineCode",{parentName:"p"},"{}"),", because ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-api")," does not currently support setting interface contracts without parameters."),Object(d.b)("p",null,"The ",Object(d.b)("inlineCode",{parentName:"p"},"output schema")," of ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," is ",Object(d.b)("inlineCode",{parentName:"p"},"{ todos }"),", then we use the in-memory ",Object(d.b)("inlineCode",{parentName:"p"},"todos")," array to emulate the database and return ",Object(d.b)("inlineCode",{parentName:"p"},"{ todos }")," directly within the function body of the ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," interface."),Object(d.b)("p",null,"A simple interface is implemented."),Object(d.b)("h3",{id:"addtodo"},"addTodo"),Object(d.b)("p",null,"Next, let's define the ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo")," interface."),Object(d.b)("p",null,"The ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo")," interface, which contains a non-empty ",Object(d.b)("inlineCode",{parentName:"p"},"input schema")," and a non-empty ",Object(d.b)("inlineCode",{parentName:"p"},"output schema"),", is a bit more complex than the implementation of the ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," interface."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export class AddTodoInput extends ObjectType {\n  content = {\n    description: 'todo content to add',\n    [Type]: String,\n  };\n}\n\nexport class InvalidAddTodoInput extends ObjectType {\n  type = Literal('InvalidAddTodoInput');\n  message = String;\n}\n\nexport class AddTodoSuccess extends ObjectType {\n  type = Literal('AddTodoSuccess');\n  todo = {\n    description: 'a new todo',\n    [Type]: Todo,\n  };\n}\n\nconst AddTodoOutput = Union(InvalidAddTodoInput, AddTodoSuccess);\n\nAddTodoOutput.displayName = 'AddTodoOutput';\n\nexport const addTodo = Api(\n  {\n    description: 'add todo',\n    input: AddTodoInput,\n    output: AddTodoOutput,\n  },\n  (input) => {\n    if (input.content.length === 0) {\n      return InvalidAddTodoInput.create({\n        type: 'InvalidAddTodoInput',\n        message: 'todo content is empty',\n      });\n    }\n\n    const todo: TodoType = {\n      id: uid++,\n      content: input.content,\n      completed: false,\n    };\n\n    todos.push(todo);\n\n    return AddTodoSuccess.create({\n      type: 'AddTodoSuccess',\n      todo,\n    });\n  }\n);\n")),Object(d.b)("p",null,"When declaring the Todo Schema via ",Object(d.b)("inlineCode",{parentName:"p"},"class Todo extends ObjectType"),", we used the ",Object(d.b)("inlineCode",{parentName:"p"},"Todo.name")," that comes with the ",Object(d.b)("inlineCode",{parentName:"p"},"class")," to access the ",Object(d.b)("inlineCode",{parentName:"p"},"class name"),"."),Object(d.b)("p",null,"However, the ",Object(d.b)("inlineCode",{parentName:"p"},"AddTodoOutput")," of ",Object(d.b)("inlineCode",{parentName:"p"},"const AddTodoOutput = Union(InvalidAddTodoInput, AddTodoSuccess);")," is a normal variable name and requires the ",Object(d.b)("inlineCode",{parentName:"p"},"displayName")," property to be configured."),Object(d.b)("p",null,"This property is not required and will work without it. However, ",Object(d.b)("inlineCode",{parentName:"p"},"AddTodoOutput")," is inlined at ",Object(d.b)("inlineCode",{parentName:"p"},"codegen")," time everywhere it is used, and it is difficult for the front-end to index it directly by type name."),Object(d.b)("p",null,"After configuring ",Object(d.b)("inlineCode",{parentName:"p"},"displayName"),", the code is generated as follows."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"/**\n * {@label AddTodoOutput}\n */\nexport type AddTodoOutput = InvalidAddTodoInput | AddTodoSuccess;\n")),Object(d.b)("p",null,"Another thing worth emphasizing is that we have used ",Object(d.b)("inlineCode",{parentName:"p"},"Discriminated Unions")," or ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions")," to express the ",Object(d.b)("inlineCode",{parentName:"p"},"Success/Failure")," mutually exclusive relationship instead of using the ",Object(d.b)("inlineCode",{parentName:"p"},"Http status code"),"."),Object(d.b)("p",null,"We can consume the data as follows:"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"let result = await api.addTodo({\n  content: 'some text',\n});\n\nif (result.type === 'InvalidAddTodoInput') {\n  // handle invalid input\n  return handleInvalidInput(result.message);\n} else if (result.type === 'AddTodoSuccess') {\n  // handle success\n  return handleAddTodoSuccess(result.todo);\n}\n")),Object(d.b)("p",null,"With ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions"),", the back-end interface can force the front-end to handle different ",Object(d.b)("inlineCode",{parentName:"p"},"cases"),", and ",Object(d.b)("inlineCode",{parentName:"p"},"TypeScript")," will constrain how the front-end consumes the data through type checking."),Object(d.b)("h3",{id:"removetodo"},"removeTodo"),Object(d.b)("p",null,"Next, we add the ",Object(d.b)("inlineCode",{parentName:"p"},"removeTodo")," interface, which is similar to the ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo")," interface."),Object(d.b)("p",null,"Define the ",Object(d.b)("inlineCode",{parentName:"p"},"input schema"),", in this case RemoveTodoInput\nDefine ",Object(d.b)("inlineCode",{parentName:"p"},"output schemas"),", which are merged into ",Object(d.b)("inlineCode",{parentName:"p"},"output schema")," by ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions"),"\nUse ",Object(d.b)("inlineCode",{parentName:"p"},"input schema")," + ",Object(d.b)("inlineCode",{parentName:"p"},"output schema")," to define the api schema\nImplement this interface"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export class RemoveTodoInput extends ObjectType {\n  todoId = {\n    description: 'todo id wait for removing',\n    [Type]: Int,\n  };\n}\n\nexport class TodoIdNotFound extends ObjectType {\n  type = Literal('TodoIdNotFound');\n  todoId = {\n    description: 'invalid todo id',\n    [Type]: Int,\n  };\n}\n\nexport class RemoveTodoSuccess extends ObjectType {\n  type = Literal('RemoveTodoSuccess');\n  todoId = {\n    description: 'todo id that removed',\n    [Type]: Int,\n  };\n  todos = {\n    description: 'current todos',\n    [Type]: Todos,\n  };\n}\n\nexport const RemoveTodoOutput = Union(TodoIdNotFound, RemoveTodoSuccess);\n\nexport const removeTodo = Api(\n  {\n    description: 'remove todo',\n    input: RemoveTodoInput,\n    output: RemoveTodoOutput,\n  },\n  (input) => {\n    const index = todos.findIndex((todo) => todo.id === input.todoId);\n\n    if (index === -1) {\n      return TodoIdNotFound.create({\n        type: 'TodoIdNotFound',\n        todoId: input.todoId,\n      });\n    }\n\n    todos.splice(index, 1);\n\n    return RemoveTodoSuccess.create({\n      type: 'RemoveTodoSuccess',\n      todoId: input.todoId,\n      todos,\n    });\n  }\n);\n")),Object(d.b)("p",null,"It is worth mentioning that the ",Object(d.b)("inlineCode",{parentName:"p"},"Schema.create(value)")," method, such as ",Object(d.b)("inlineCode",{parentName:"p"},"RemoveTodoSuccess.create"),", does not actually do anything special internally, it just returns ",Object(d.b)("inlineCode",{parentName:"p"},"value"),"."),Object(d.b)("p",null,"The purpose of the ",Object(d.b)("inlineCode",{parentName:"p"},"create")," method is to make the type derivation more accurate, as we often use ",Object(d.b)("inlineCode",{parentName:"p"},"Literal String Type")," as the type of ",Object(d.b)("inlineCode",{parentName:"p"},"Tag")," fields when using the ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions")," pattern. Using a literal directly, such as ",Object(d.b)("inlineCode",{parentName:"p"},"RemoveTodoSuccess"),", will often be derived as a ",Object(d.b)("inlineCode",{parentName:"p"},"string")," type. With the help of the ",Object(d.b)("inlineCode",{parentName:"p"},"create")," method, we can derive the ",Object(d.b)("inlineCode",{parentName:"p"},"Literal type")," more accurately."),Object(d.b)("h3",{id:"updatetodo"},"updateTodo"),Object(d.b)("p",null,"Next, we implement the ",Object(d.b)("inlineCode",{parentName:"p"},"updateTodo")," interface."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export class UpdateTodoInput extends ObjectType {\n  todoId = {\n    description: 'todo id wait for update',\n    [Type]: Int,\n  };\n  content? = {\n    description: 'new todo content',\n    [Type]: Nullable(String),\n  };\n  completed? = {\n    description: 'new todo status',\n    [Type]: Nullable(Boolean),\n  };\n}\n\nexport class UpdateTodoSuccess extends ObjectType {\n  type = Literal('UpdateTodoSuccess');\n  todoId = {\n    description: 'todo id that updated',\n    [Type]: Int,\n  };\n  todos = {\n    description: 'current todos',\n    [Type]: Todos,\n  };\n}\n\nexport const UpdateTodoOutput = Union(TodoIdNotFound, UpdateTodoSuccess);\n\nUpdateTodoOutput.displayName = 'UpdateTodoOutput';\n\nexport const updateTodo = Api(\n  {\n    description: 'update todo',\n    input: UpdateTodoInput,\n    output: UpdateTodoOutput,\n  },\n  (input) => {\n    const targetTodo = todos.find((todo) => todo.id === input.todoId);\n\n    if (!targetTodo) {\n      return TodoIdNotFound.create({\n        type: 'TodoIdNotFound',\n        todoId: input.todoId,\n      });\n    }\n\n    if (typeof input.content === 'string') {\n      targetTodo.content = input.content;\n    }\n\n    if (typeof input.completed === 'boolean') {\n      targetTodo.completed = input.completed;\n    }\n\n    return UpdateTodoSuccess.create({\n      type: 'UpdateTodoSuccess',\n      todoId: input.todoId,\n      todos,\n    });\n  }\n);\n")),Object(d.b)("p",null,"The interesting part here is how to define an optional field?"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"class MyObject extends ObjectType {\n  content? = Nullable(String);\n}\n")),Object(d.b)("p",null,"With ",Object(d.b)("inlineCode",{parentName:"p"},"?=")," together with ",Object(d.b)("inlineCode",{parentName:"p"},"Nullable(X)")," we can define an optional field."),Object(d.b)("h3",{id:"clearcompleted"},"clearCompleted"),Object(d.b)("p",null,"Implement the ",Object(d.b)("inlineCode",{parentName:"p"},"clearCompleted")," interface."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export const clearCompleted = Api(\n  {\n    description: 'clear completed',\n    input: {},\n    output: {\n      todos: {\n        description: 'current todos',\n        [Type]: Todos,\n      },\n    },\n  },\n  () => {\n    todos = todos.filter((todo) => todo.completed !== false);\n\n    return {\n      todos,\n    };\n  }\n);\n")),Object(d.b)("p",null,"Ease as ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos"),"\u3002"),Object(d.b)("h3",{id:"apiservice"},"ApiService"),Object(d.b)("p",null,"In fact, the interfaces ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos"),", ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo"),", ",Object(d.b)("inlineCode",{parentName:"p"},"removeTodo"),", etc. implemented above are essentially functions, but through the ",Object(d.b)("inlineCode",{parentName:"p"},"Schema")," definition, we can derive the ",Object(d.b)("inlineCode",{parentName:"p"},"TypeScript")," type and get some ",Object(d.b)("inlineCode",{parentName:"p"},"metadata")," in ",Object(d.b)("inlineCode",{parentName:"p"},"runtime")," as well."),Object(d.b)("p",null,"They are just functions, we need to bind it to an ",Object(d.b)("inlineCode",{parentName:"p"},"http server"),", which is done by the following code."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export const service = ApiService({\n  entries: {\n    getTodos,\n    addTodo,\n    removeTodo,\n    updateTodo,\n    clearCompleted,\n  },\n});\n")),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"ApiService")," can convert a set of ",Object(d.b)("inlineCode",{parentName:"p"},"entries")," functions into ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-http")," ",Object(d.b)("inlineCode",{parentName:"p"},"router")," objects that can be hooked up to an ",Object(d.b)("inlineCode",{parentName:"p"},"HttpPipeline"),"."),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"// attach todo service\nservices.route('/api/todo').use(TodoService);\n")),Object(d.b)("p",null,"At this point, we have completed the server-side interface part of ",Object(d.b)("inlineCode",{parentName:"p"},"TodoService"),", so let's take a look at the front-end part of consuming the interface data."))}l.isMDXComponent=!0}}]);