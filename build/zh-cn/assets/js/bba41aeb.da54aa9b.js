(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{116:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return O}));var o=t(0),i=t.n(o);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},d=Object.keys(e);for(o=0;o<d.length;o++)t=d[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(o=0;o<d.length;o++)t=d[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=i.a.createContext({}),l=function(e){var n=i.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},b=function(e){var n=l(e.components);return i.a.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},s=i.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,d=e.originalType,p=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),b=l(t),s=o,O=b["".concat(p,".").concat(s)]||b[s]||u[s]||d;return t?i.a.createElement(O,a(a({ref:n},c),{},{components:t})):i.a.createElement(O,a({ref:n},c))}));function O(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var d=t.length,p=new Array(d);p[0]=s;var a={};for(var r in n)hasOwnProperty.call(n,r)&&(a[r]=n[r]);a.originalType=e,a.mdxType="string"==typeof e?e:o,p[1]=a;for(var c=2;c<d;c++)p[c]=t[c];return i.a.createElement.apply(null,p)}return i.a.createElement.apply(null,t)}s.displayName="MDXCreateElement"},167:function(e,n,t){"use strict";t.r(n),n.default="data:image/png;base64,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"},98:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return p})),t.d(n,"metadata",(function(){return a})),t.d(n,"toc",(function(){return r})),t.d(n,"default",(function(){return l}));var o=t(3),i=t(7),d=(t(0),t(116)),p={title:"\u5f00\u53d1 todo service"},a={unversionedId:"tutorial/04-develop-todo-service",id:"tutorial/04-develop-todo-service",isDocsHomePage:!1,title:"\u5f00\u53d1 todo service",description:"Todo app \u529f\u80fd\u4ecb\u7ecd",source:"@site/i18n/zh-cn/docusaurus-plugin-content-docs/current/tutorial/04-develop-todo-service.md",slug:"/tutorial/04-develop-todo-service",permalink:"/farrow-docs/build/zh-cn/docs/tutorial/04-develop-todo-service",editUrl:"https://github.com/Lucifier129/farrow-docs/docs/tutorial/04-develop-todo-service.md",version:"current",sidebar:"docs",previous:{title:"\u524d\u7aef\u5f00\u53d1",permalink:"/farrow-docs/build/zh-cn/docs/tutorial/03-develop-front-end"},next:{title:"\u5f00\u53d1 todo app",permalink:"/farrow-docs/build/zh-cn/docs/tutorial/05-develop-todo-app"}},r=[{value:"Todo app \u529f\u80fd\u4ecb\u7ecd",id:"todo-app-\u529f\u80fd\u4ecb\u7ecd",children:[]},{value:"Todo Service",id:"todo-service",children:[{value:"getTodos",id:"gettodos",children:[]},{value:"addTodo",id:"addtodo",children:[]},{value:"removeTodo",id:"removetodo",children:[]},{value:"updateTodo",id:"updatetodo",children:[]},{value:"clearCompleted",id:"clearcompleted",children:[]},{value:"ApiService",id:"apiservice",children:[]}]}],c={toc:r};function l(e){var n=e.components,p=Object(i.a)(e,["components"]);return Object(d.b)("wrapper",Object(o.a)({},c,p,{components:n,mdxType:"MDXLayout"}),Object(d.b)("h2",{id:"todo-app-\u529f\u80fd\u4ecb\u7ecd"},"Todo app \u529f\u80fd\u4ecb\u7ecd"),Object(d.b)("p",null,"\u6211\u4eec\u5373\u5c06\u5f00\u53d1\u7684\u5efa\u8bae ",Object(d.b)("inlineCode",{parentName:"p"},"todo-app")," \uff0c\u754c\u9762\u76f8\u5bf9\u7b80\u964b\uff0c\u5927\u6982\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),Object(d.b)("p",null,Object(d.b)("img",{alt:"todo-app",src:t(167).default})),Object(d.b)("p",null,"\u5b83\u5305\u542b\u5982\u4e0b\u529f\u80fd\uff1a"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"\u8f93\u5165\u65b0\u7684 todo content\uff0c\u5e76\u6309\u56de\u8f66\u6dfb\u52a0"),Object(d.b)("li",{parentName:"ul"},"\u5bf9\u4e8e\u6bcf\u4e2a todo \u9879",Object(d.b)("ul",{parentName:"li"},Object(d.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u5207\u6362 ",Object(d.b)("inlineCode",{parentName:"li"},"completed/active")," \u72b6\u6001"),Object(d.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u5220\u9664"),Object(d.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u53cc\u51fb\u542f\u52a8\u7f16\u8f91"))),Object(d.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u6e05\u695a\u6240\u6709 ",Object(d.b)("inlineCode",{parentName:"li"},"completed")," \u72b6\u6001\u7684 todo \u9879\u3002")),Object(d.b)("p",null,"\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u4e00\u7ec4\u670d\u52a1\u7aef ",Object(d.b)("inlineCode",{parentName:"p"},"api"),"\uff0c\u652f\u6301\uff1a"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"getTodos")," \u83b7\u53d6\u5f53\u524d\u7684 ",Object(d.b)("inlineCode",{parentName:"li"},"todos")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"addTodo")," \u6dfb\u52a0\u65b0\u7684 ",Object(d.b)("inlineCode",{parentName:"li"},"todo")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"removeTodo")," \u5220\u9664 ",Object(d.b)("inlineCode",{parentName:"li"},"todo")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"updateTodo")," \u66f4\u65b0 ",Object(d.b)("inlineCode",{parentName:"li"},"todo")),Object(d.b)("li",{parentName:"ul"},Object(d.b)("inlineCode",{parentName:"li"},"clearCompleted")," \u6e05\u695a\u6240\u6709\u5df2\u5b8c\u6210\u7684 ",Object(d.b)("inlineCode",{parentName:"li"},"todo"))),Object(d.b)("p",null,"\u7136\u540e\u5728\u524d\u7aef\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-api")," \u590d\u7528\u670d\u52a1\u7aef\u7684\u7c7b\u578b\u548c\u63a5\u53e3\u8c03\u7528\u4ee3\u7801\uff0c\u57fa\u4e8e ",Object(d.b)("inlineCode",{parentName:"p"},"react")," \u5f00\u53d1\u754c\u9762\u3002"),Object(d.b)("h2",{id:"todo-service"},"Todo Service"),Object(d.b)("p",null,"\u65b0\u5efa ",Object(d.b)("inlineCode",{parentName:"p"},"server/api/todo.ts")," \u6587\u4ef6\uff0c\u5f15\u5165\u76f8\u5173\u6a21\u5757\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"import { Api } from 'farrow-api';\nimport { ApiService } from 'farrow-api-server';\nimport {\n  Int,\n  List,\n  Literal,\n  Nullable,\n  ObjectType,\n  Type,\n  TypeOf,\n  Union,\n} from 'farrow-schema';\n")),Object(d.b)("p",null,"\u7136\u540e\u5b9a\u4e49 ",Object(d.b)("inlineCode",{parentName:"p"},"Todo Schema"),"\uff0c\u5e76\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"p"},"TypeOf")," \u63d0\u53d6 ",Object(d.b)("inlineCode",{parentName:"p"},"Todo Schema")," \u5305\u542b\u7684\u7c7b\u578b\u3002\u7136\u540e\uff0c\u6211\u4eec\u7528 ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-schema")," \u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"List")," \u51fd\u6570\uff0c\u6784\u9020 ",Object(d.b)("inlineCode",{parentName:"p"},"Todos Schema"),"\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"export class Todo extends ObjectType {\n  id = {\n    description: 'todo id',\n    [Type]: Int,\n  };\n  content = {\n    description: 'todo content',\n    [Type]: String,\n  };\n  completed = {\n    description: 'todo status',\n    [Type]: Boolean,\n  };\n}\n\nexport type TodoType = TypeOf<Todo>;\n\nexport const Todos = List(Todo);\n")),Object(d.b)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u4e0a\u9762\u770b\u8d77\u6765\u867d\u7136\u6709\u70b9\u5197\u4f59\uff0c\u4f46\u6bcf\u4e00\u90e8\u5206\u90fd\u6709\u5b83\u7684\u4f5c\u7528\uff0c\u6bd4\u5982 ",Object(d.b)("inlineCode",{parentName:"p"},"description")," \u5728 ",Object(d.b)("inlineCode",{parentName:"p"},"codegen")," \u5230\u524d\u7aef\u4e4b\u540e\uff0c\u53d8\u6210\u4e86\u6ce8\u91ca\uff0c\u662f api \u6587\u6863\u5316\u7684\u4e00\u4e2a\u9014\u5f84\u3002"),Object(d.b)("p",null,"\u524d\u7aef\u83b7\u53d6\u5230\u7684\u7c7b\u578b\u5982\u4e0b\u6240\u793a\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"/**\n * {@label Todo}\n */\nexport type Todo = {\n  /**\n   * @remarks todo id\n   */\n  id: number;\n  /**\n   * @remarks todo content\n   */\n  content: string;\n  /**\n   * @remarks todo status\n   */\n  completed: boolean;\n};\n")),Object(d.b)("h3",{id:"gettodos"},"getTodos"),Object(d.b)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u7b2c\u4e00\u4e2a\u63a5\u53e3 ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos"),"\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"let uid = 0;\n\nlet todos: TodoType[] = [];\n\nexport const getTodos = Api(\n  {\n    description: 'get todos',\n    input: {},\n    output: {\n      todos: {\n        description: 'all todos',\n        [Type]: Todos,\n      },\n    },\n  },\n  () => {\n    return {\n      todos,\n    };\n  }\n);\n")),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," \u867d\u7136\u4e0d\u9700\u8981\u53c2\u6570\uff0c\u4f46 ",Object(d.b)("inlineCode",{parentName:"p"},"input schema")," \u8fd8\u662f\u9700\u8981\u8bbe\u7f6e ",Object(d.b)("inlineCode",{parentName:"p"},"{}"),"\uff0c\u56e0\u4e3a\u76ee\u524d ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-api")," \u8fd8\u4e0d\u652f\u6301\u8bbe\u7f6e\u4e0d\u5e26\u53c2\u6570\u7684\u63a5\u53e3\u5951\u7ea6\u3002"),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," \u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"output schema")," \u4e3a ",Object(d.b)("inlineCode",{parentName:"p"},"{ todos }"),"\uff0c\u7136\u540e\u6211\u4eec\u7528\u5185\u5b58\u91cc ",Object(d.b)("inlineCode",{parentName:"p"},"todos")," \u6570\u7ec4\u6a21\u62df\u6570\u636e\u5e93\uff0c\u5728 ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," \u63a5\u53e3\u7684\u51fd\u6570\u4f53\u5185\u76f4\u63a5\u8fd4\u56de ",Object(d.b)("inlineCode",{parentName:"p"},"{ todos }"),"\u3002"),Object(d.b)("p",null,"\u4e00\u4e2a\u7b80\u5355\u7684\u63a5\u53e3\u5c31\u5b9e\u73b0\u4e86\u3002"),Object(d.b)("h3",{id:"addtodo"},"addTodo"),Object(d.b)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u5b9a\u4e49 ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo")," \u63a5\u53e3\u3002"),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"addTodo")," \u63a5\u53e3\uff0c\u5305\u542b\u975e\u7a7a\u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"input schema")," \u548c\u975e\u7a7a\u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"output schema"),"\uff0c\u6bd4 ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," \u63a5\u53e3\u7684\u5b9e\u73b0\u66f4\u590d\u6742\u4e00\u4e9b\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export class AddTodoInput extends ObjectType {\n  content = {\n    description: 'todo content to add',\n    [Type]: String,\n  };\n}\n\nexport class InvalidAddTodoInput extends ObjectType {\n  type = Literal('InvalidAddTodoInput');\n  message = String;\n}\n\nexport class AddTodoSuccess extends ObjectType {\n  type = Literal('AddTodoSuccess');\n  todo = {\n    description: 'a new todo',\n    [Type]: Todo,\n  };\n}\n\nconst AddTodoOutput = Union(InvalidAddTodoInput, AddTodoSuccess);\n\nAddTodoOutput.displayName = 'AddTodoOutput';\n\nexport const addTodo = Api(\n  {\n    description: 'add todo',\n    input: AddTodoInput,\n    output: AddTodoOutput,\n  },\n  (input) => {\n    if (input.content.length === 0) {\n      return InvalidAddTodoInput.create({\n        type: 'InvalidAddTodoInput',\n        message: 'todo content is empty',\n      });\n    }\n\n    const todo: TodoType = {\n      id: uid++,\n      content: input.content,\n      completed: false,\n    };\n\n    todos.push(todo);\n\n    return AddTodoSuccess.create({\n      type: 'AddTodoSuccess',\n      todo,\n    });\n  }\n);\n")),Object(d.b)("p",null,"\u524d\u9762\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"p"},"class Todo extends ObjectType")," \u58f0\u660e ",Object(d.b)("inlineCode",{parentName:"p"},"Todo Schema")," \u65f6\uff0c\u6211\u4eec\u5229\u7528\u4e86 ",Object(d.b)("inlineCode",{parentName:"p"},"class")," \u81ea\u5e26\u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"Todo.name")," \u53ef\u4ee5\u8bbf\u95ee\u5230 ",Object(d.b)("inlineCode",{parentName:"p"},"class name"),"\u3002"),Object(d.b)("p",null,"\u7136\u800c\uff0c",Object(d.b)("inlineCode",{parentName:"p"},"const AddTodoOutput = Union(InvalidAddTodoInput, AddTodoSuccess);")," \u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"AddTodoOutput")," \u662f\u666e\u901a\u53d8\u91cf\u540d\uff0c\u9700\u8981\u914d\u7f6e ",Object(d.b)("inlineCode",{parentName:"p"},"displayName")," \u5c5e\u6027\u3002"),Object(d.b)("p",null,"\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u662f\u5fc5\u8981\u7684\uff0c\u4e0d\u914d\u7f6e\u5b83\u4e5f\u80fd\u5de5\u4f5c\u3002\u4f46 ",Object(d.b)("inlineCode",{parentName:"p"},"AddTodoOutput")," \u5728 ",Object(d.b)("inlineCode",{parentName:"p"},"codegen")," \u65f6\u4f1a\u88ab\u5185\u8054\u5230\u6bcf\u4e00\u5904\u4f7f\u7528\u5b83\u7684\u5730\u65b9\uff0c\u524d\u7aef\u4e5f\u96be\u4ee5\u76f4\u63a5\u901a\u8fc7\u7c7b\u578b\u540d\u79f0\u7d22\u5f15\u5230\u5b83\u3002"),Object(d.b)("p",null,"\u914d\u7f6e ",Object(d.b)("inlineCode",{parentName:"p"},"displayName")," \u4e4b\u540e\uff0c\u4ee3\u7801\u751f\u6210\u7ed3\u679c\u5982\u4e0b\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-typescript"},"/**\n * {@label AddTodoOutput}\n */\nexport type AddTodoOutput = InvalidAddTodoInput | AddTodoSuccess;\n")),Object(d.b)("p",null,"\u53e6\u4e00\u4e2a\u503c\u5f97\u5f3a\u8c03\u7684\u662f\uff0c\u6211\u4eec\u91c7\u7528\u4e86 ",Object(d.b)("inlineCode",{parentName:"p"},"Discriminated Unions")," \u6216\u8005\u8bf4 ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions")," \u53bb\u8868\u8fbe ",Object(d.b)("inlineCode",{parentName:"p"},"Success/Failure")," \u7684\u4e92\u65a5\u5173\u7cfb\uff0c\u800c\u975e\u4f7f\u7528 ",Object(d.b)("inlineCode",{parentName:"p"},"Http status code"),"\u3002"),Object(d.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u50cf\u4e0b\u9762\u90a3\u6837\u6d88\u8d39\u6570\u636e\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"let result = await api.addTodo({\n  content: 'some text',\n});\n\nif (result.type === 'InvalidAddTodoInput') {\n  // handle invalid input\n  return handleInvalidInput(result.message);\n} else if (result.type === 'AddTodoSuccess') {\n  // handle success\n  return handleAddTodoSuccess(result.todo);\n}\n")),Object(d.b)("p",null,"\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions"),"\uff0c\u540e\u7aef\u63a5\u53e3\u53ef\u4ee5\u5f3a\u5236\u8ba9\u524d\u7aef\u5904\u7406\u4e0d\u540c\u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"case"),", ",Object(d.b)("inlineCode",{parentName:"p"},"TypeScript")," \u4f1a\u901a\u8fc7\u7c7b\u578b\u68c0\u67e5\uff0c\u7ea6\u675f\u524d\u7aef\u5bf9\u6570\u636e\u7684\u6d88\u8d39\u65b9\u5f0f\u3002"),Object(d.b)("h3",{id:"removetodo"},"removeTodo"),Object(d.b)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6dfb\u52a0 ",Object(d.b)("inlineCode",{parentName:"p"},"removeTodo")," \u63a5\u53e3\uff0c\u8ddf ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo")," \u63a5\u53e3\u5dee\u4e0d\u591a\u3002"),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"\u5b9a\u4e49 ",Object(d.b)("inlineCode",{parentName:"li"},"input schema"),"\uff0c\u6b64\u5904\u662f ",Object(d.b)("inlineCode",{parentName:"li"},"RemoveTodoInput")),Object(d.b)("li",{parentName:"ul"},"\u5b9a\u4e49 ",Object(d.b)("inlineCode",{parentName:"li"},"output schemas"),"\uff0c\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"li"},"Tagged Unions")," \u5408\u5e76\u6210 ",Object(d.b)("inlineCode",{parentName:"li"},"output schema")),Object(d.b)("li",{parentName:"ul"},"\u7528 ",Object(d.b)("inlineCode",{parentName:"li"},"input schema")," + ",Object(d.b)("inlineCode",{parentName:"li"},"output schema")," \u53bb\u5b9a\u4e49 ",Object(d.b)("inlineCode",{parentName:"li"},"api schema")),Object(d.b)("li",{parentName:"ul"},"\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3")),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export class RemoveTodoInput extends ObjectType {\n  todoId = {\n    description: 'todo id wait for removing',\n    [Type]: Int,\n  };\n}\n\nexport class TodoIdNotFound extends ObjectType {\n  type = Literal('TodoIdNotFound');\n  todoId = {\n    description: 'invalid todo id',\n    [Type]: Int,\n  };\n}\n\nexport class RemoveTodoSuccess extends ObjectType {\n  type = Literal('RemoveTodoSuccess');\n  todoId = {\n    description: 'todo id that removed',\n    [Type]: Int,\n  };\n  todos = {\n    description: 'current todos',\n    [Type]: Todos,\n  };\n}\n\nexport const RemoveTodoOutput = Union(TodoIdNotFound, RemoveTodoSuccess);\n\nexport const removeTodo = Api(\n  {\n    description: 'remove todo',\n    input: RemoveTodoInput,\n    output: RemoveTodoOutput,\n  },\n  (input) => {\n    const index = todos.findIndex((todo) => todo.id === input.todoId);\n\n    if (index === -1) {\n      return TodoIdNotFound.create({\n        type: 'TodoIdNotFound',\n        todoId: input.todoId,\n      });\n    }\n\n    todos.splice(index, 1);\n\n    return RemoveTodoSuccess.create({\n      type: 'RemoveTodoSuccess',\n      todoId: input.todoId,\n      todos,\n    });\n  }\n);\n")),Object(d.b)("p",null,"\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c",Object(d.b)("inlineCode",{parentName:"p"},"Schema.create(value)")," \u65b9\u6cd5\uff0c\u5982 ",Object(d.b)("inlineCode",{parentName:"p"},"RemoveTodoSuccess.create"),"\uff0c\u5176\u5b9e\u5185\u90e8\u5e76\u6ca1\u6709\u7279\u6b8a\u5904\u7406\uff0c\u5b83\u4ec5\u4ec5\u8fd4\u56de ",Object(d.b)("inlineCode",{parentName:"p"},"value"),"\u3002"),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"create")," \u65b9\u6cd5\u7684\u7528\u9014\u662f\u4e3a\u4e86\u8ba9\u7c7b\u578b\u63a8\u5bfc\u66f4\u51c6\u786e\uff0c\u5f53\u6211\u4eec\u91c7\u7528 ",Object(d.b)("inlineCode",{parentName:"p"},"Tagged Unions")," \u6a21\u5f0f\u65f6\uff0c\u5e38\u5e38\u7528 ",Object(d.b)("inlineCode",{parentName:"p"},"Literal String Type")," \u4f5c\u4e3a ",Object(d.b)("inlineCode",{parentName:"p"},"Tag")," \u5b57\u6bb5\u7684\u7c7b\u578b\u3002\u76f4\u63a5\u4f7f\u7528\u5b57\u9762\u91cf\uff0c\u5982",Object(d.b)("inlineCode",{parentName:"p"},"'RemoveTodoSuccess'")," \uff0c\u5e38\u5e38\u4f1a\u88ab\u63a8\u5bfc\u4e3a ",Object(d.b)("inlineCode",{parentName:"p"},"string")," \u7c7b\u578b\u3002\u901a\u8fc7\u8f85\u52a9\u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"create")," \u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u51c6\u786e\u5730\u63a8\u5bfc\u51fa ",Object(d.b)("inlineCode",{parentName:"p"},"Literal type"),"\u3002"),Object(d.b)("h3",{id:"updatetodo"},"updateTodo"),Object(d.b)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5b9e\u73b0 ",Object(d.b)("inlineCode",{parentName:"p"},"updateTodo")," \u63a5\u53e3\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export class UpdateTodoInput extends ObjectType {\n  todoId = {\n    description: 'todo id wait for update',\n    [Type]: Int,\n  };\n  content? = {\n    description: 'new todo content',\n    [Type]: Nullable(String),\n  };\n  completed? = {\n    description: 'new todo status',\n    [Type]: Nullable(Boolean),\n  };\n}\n\nexport class UpdateTodoSuccess extends ObjectType {\n  type = Literal('UpdateTodoSuccess');\n  todoId = {\n    description: 'todo id that updated',\n    [Type]: Int,\n  };\n  todos = {\n    description: 'current todos',\n    [Type]: Todos,\n  };\n}\n\nexport const UpdateTodoOutput = Union(TodoIdNotFound, UpdateTodoSuccess);\n\nUpdateTodoOutput.displayName = 'UpdateTodoOutput';\n\nexport const updateTodo = Api(\n  {\n    description: 'update todo',\n    input: UpdateTodoInput,\n    output: UpdateTodoOutput,\n  },\n  (input) => {\n    const targetTodo = todos.find((todo) => todo.id === input.todoId);\n\n    if (!targetTodo) {\n      return TodoIdNotFound.create({\n        type: 'TodoIdNotFound',\n        todoId: input.todoId,\n      });\n    }\n\n    if (typeof input.content === 'string') {\n      targetTodo.content = input.content;\n    }\n\n    if (typeof input.completed === 'boolean') {\n      targetTodo.completed = input.completed;\n    }\n\n    return UpdateTodoSuccess.create({\n      type: 'UpdateTodoSuccess',\n      todoId: input.todoId,\n      todos,\n    });\n  }\n);\n")),Object(d.b)("p",null,"\u8fd9\u91cc\u6709\u610f\u601d\u7684\u5730\u65b9\u662f\uff0c\u5982\u4f55\u5b9a\u4e49\u4e00\u4e2a\u53ef\u9009\u7684\u5b57\u6bb5\uff1f"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"class MyObject extends ObjectType {\n  content? = Nullable(String);\n}\n")),Object(d.b)("p",null,"\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"p"},"?=")," \u914d\u5408 ",Object(d.b)("inlineCode",{parentName:"p"},"Nullable(X)")," \u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u53ef\u9009\u5b57\u6bb5\u3002"),Object(d.b)("h3",{id:"clearcompleted"},"clearCompleted"),Object(d.b)("p",null,"\u5b9e\u73b0 ",Object(d.b)("inlineCode",{parentName:"p"},"clearCompleted")," \u63a5\u53e3"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export const clearCompleted = Api(\n  {\n    description: 'clear completed',\n    input: {},\n    output: {\n      todos: {\n        description: 'current todos',\n        [Type]: Todos,\n      },\n    },\n  },\n  () => {\n    todos = todos.filter((todo) => todo.completed !== false);\n\n    return {\n      todos,\n    };\n  }\n);\n")),Object(d.b)("p",null,"\u8ddf ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos")," \u4e00\u6837\u7b80\u5355\u3002"),Object(d.b)("h3",{id:"apiservice"},"ApiService"),Object(d.b)("p",null,"\u5176\u5b9e\uff0c\u4e0a\u8ff0\u5b9e\u73b0\u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"getTodos"),", ",Object(d.b)("inlineCode",{parentName:"p"},"addTodo"),", ",Object(d.b)("inlineCode",{parentName:"p"},"removeTodo")," \u7b49\u63a5\u53e3\uff0c\u672c\u8d28\u4e0a\u90fd\u662f\u51fd\u6570\uff0c\u53ea\u662f\u901a\u8fc7 ",Object(d.b)("inlineCode",{parentName:"p"},"Schema")," \u5b9a\u4e49\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u5bfc\u51fa ",Object(d.b)("inlineCode",{parentName:"p"},"TypeScript")," \u7c7b\u578b\uff0c\u4ee5\u53ca\u5728 ",Object(d.b)("inlineCode",{parentName:"p"},"runtime")," \u4e5f\u80fd\u62ff\u5230\u4e00\u4e9b ",Object(d.b)("inlineCode",{parentName:"p"},"metadata"),"\u3002"),Object(d.b)("p",null,"\u5b83\u4eec\u53ea\u662f\u51fd\u6570\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5b83\u7ed1\u5b9a\u5230\u4e00\u4e2a ",Object(d.b)("inlineCode",{parentName:"p"},"http server")," \u4e0a\uff0c\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u5b8c\u6210\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"export const service = ApiService({\n  entries: {\n    getTodos,\n    addTodo,\n    removeTodo,\n    updateTodo,\n    clearCompleted,\n  },\n});\n")),Object(d.b)("p",null,Object(d.b)("inlineCode",{parentName:"p"},"ApiService")," \u53ef\u4ee5\u5c06\u4e00\u7ec4 ",Object(d.b)("inlineCode",{parentName:"p"},"entries")," \u51fd\u6570\uff0c\u8f6c\u5316\u6210 ",Object(d.b)("inlineCode",{parentName:"p"},"farrow-http")," \u7684 ",Object(d.b)("inlineCode",{parentName:"p"},"router")," \u5bf9\u8c61\uff0c\u53ef\u4ee5\u6302\u5728\u5230 ",Object(d.b)("inlineCode",{parentName:"p"},"HttpPipeline")," \u4e0a\u3002"),Object(d.b)("pre",null,Object(d.b)("code",{parentName:"pre",className:"language-ts"},"// attach todo service\nservices.route('/api/todo').use(TodoService);\n")),Object(d.b)("p",null,"\u81f3\u6b64\uff0c\u6211\u4eec\u5b8c\u6210\u4e86 ",Object(d.b)("inlineCode",{parentName:"p"},"TodoService")," \u7684\u670d\u52a1\u7aef\u63a5\u53e3\u90e8\u5206\uff0c\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u770b\u524d\u7aef\u6d88\u8d39\u63a5\u53e3\u6570\u636e\u7684\u90e8\u5206\u3002"))}l.isMDXComponent=!0}}]);